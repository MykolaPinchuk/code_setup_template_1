# ADR 0001 â€” Agentic workflow protocol

## Context
This repo is intended to be developed by multiple "generations" of coding agents under human supervision.
Continuity depends on durable repo artifacts rather than chat history.

## Decision
We standardize on:
- `agents.md` as the general instruction entrypoint (typically generated by `context-manager-1`).
- `repo_workflow.md` as the repo-specific workflow contract (triggers + procedures).
- `onboarding.md` + `HANDOFF.md` + `REPO_MAP.md` as the minimal repo-local onboarding set.
- `agent_logs/current.md` for frequent in-progress logging, rotated at handoff.
- A `wrap-up` procedure that updates docs, rotates logs, and creates a safe **handoff** git commit.

## Consequences
- Agents must keep `HANDOFF.md` accurate to avoid chat-history dependence.
- Repo evolution is handled via `REPO_MAP.md` updates at handoff *when needed*.
- Git commits are created at handoff with strict safety constraints (no push/amend/rebase, no secrets, no large artifacts).

## Alternatives considered
- Relying on chat history alone (rejected: fragile across compaction and agent changes).
- Enforcing tests/lint at handoff (rejected by default: experimentation-heavy; record breakage instead).
